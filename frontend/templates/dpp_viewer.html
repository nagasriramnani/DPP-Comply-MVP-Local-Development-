<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DPP Viewer</title>
  <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
<header>
  <h1>DPP Viewer</h1>
</header>
<main class="container">
  <section class="panel">
    <h2>Digital Product Passport</h2>
    <pre id="dpp" class="codeblock">Loading...</pre>
  </section>
</main>

<script>
const productId = window.location.pathname.split('/').pop();
fetch(`/api/product/${productId}/dpp`).then(r=>r.json()).then(d=>{
  document.getElementById('dpp').textContent = JSON.stringify(d, null, 2);
}).catch(()=>{
  document.getElementById('dpp').textContent = "Not found.";
});
</script>
</body>
</html>
